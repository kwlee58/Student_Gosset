{
    "contents" : "---\ntitle: \"Student Crimtab Data Graphic Analysis\"\nauthor: \"coop711\"\ndate: \"2015년 3월 25일\"\noutput: html_document\n---\n\nData Manipulation\n-----------------\n\n- Data Frame으로 정리하고, 다시 long format 으로 변환. `height`를 인치로 변환하면 어떻게 될까?\n\n```{r}\ndimnames(crimtab.2)[[2]]<-as.numeric(dimnames(crimtab.2)[[2]])/2.54\ncrimtab.2\ncrimtab.3<-crimtab.2\ncrimtab.3.df<-as.data.frame(crimtab.3, stringsAsFactors = F)\nhead(crimtab.3.df)\nstr(crimtab.3.df)\ncrimtab.3.df$finger<-as.numeric(crimtab.3.df$Var1)\ncrimtab.3.df$height<-as.numeric(crimtab.3.df$Var2)\nstr(crimtab.3.df)\ncrimtab.3.long<-apply(crimtab.3.df[,4:5], 2, function(x) rep(x, crimtab.3.df[,3]))\nstr(crimtab.3.long)\n```\n\n- `function(x) rep(x, crimtab.3.df[,3])` 이 어렵게 느껴지면 다음과 같이 세 단계로 나누어 작업할 수도 있음.\n\n```{r}\nattach(crimtab.3.df)\nfinger.long<-rep(finger, Freq)\nheight.long<-rep(height, Freq)\ncrimtab.3.long.2<-data.frame(finger=finger.long, height=height.long)\nstr(crimtab.3.long.2)\ndetach()\n```\n\n- 산점도를  여러 유형으로 표현하기 위하여 필요한 패키지 설치\n\n```\ninstall.packages(\"hexbin\")\n```\n\n```{r}\nlibrary(hexbin)\n```\n\n```{r}\ncrimtab.bin<-hexbin(crimtab.3.long[,\"height\"],crimtab.3.long[,\"finger\"], xbins=50)\n```\n\n\n```{r fig.width=8, fig.height=8}\npar(mfrow=c(2,2))\nplot(finger~height, data=crimtab.3.long)\nplot(finger~height, data=crimtab.3.long, pch=20)\nsmoothScatter(crimtab.3.long[,\"height\"], crimtab.3.long[,\"finger\"], xlab=\"height\", ylab=\"finger\")\nsmoothScatter(crimtab.3.long[,\"height\"], crimtab.3.long[,\"finger\"], nbin=32, xlab=\"height\", ylab=\"finger\")\n```\n\n```{r fig.width=6, fig.height=6}\npar(mfrow=c(1,1))\nplot(crimtab.bin, xlab=\"height(inches)\", ylab=\"finger length(cm)\")\n```\n\n- 산점도와 함께 주변분포 표시\n\n```{r fig.width=6, fig.height=6}\npar(mar=c(4,4,1,1))\npar(fig=c(0,0.8,0,0.8))\nplot(finger~height, data=crimtab.3.long, pch=20)\npar(fig=c(0,0.8,0.68,1), new=TRUE)\nhist(crimtab.3.long[,\"height\"], axes=F, ann=F)\npar(fig=c(0.68,1,0,0.8), new=TRUE)\nbarplot(table(cut(crimtab.3.long[,\"finger\"], breaks=10)), space=0, col=\"white\", horiz=T, axes=F, axisnames=F)\npar(fig=c(0,1,0,1))\npar(mar=c(5,4,1,1)+0.1)\n```\n\n- `persp()`를 활용하면 다양한 각도에서 3차원 겨냥도를 그려볼 수 있음. $x$ 축은 행, $y$ 축은 열에 펼쳐진 격자를 0에서 1까지로 조정. `theta`와 `phi`는 박스를 돌려보는 각도이고, `expand`는 박스 높이의 상대적인 비율임. $x$ 축과 $y$ 축의 라벨 이외에는 디폴트값을 적용시킨 겨냥도와 적절히 조정한 겨냥도를 비교해 볼 것,\n\n```{r fig.width=12, fig.height=12}\npar(mfrow=c(2,2))\npersp(crimtab.3, xlab=\"Finger Length\", ylab=\"Height\")\npersp(crimtab.3, xlab=\"Finger Length\", ylab=\"Height\", theta=90, phi=30, expand=0.5, scale=TRUE)\npersp(crimtab.3, xlab=\"Finger Length\", ylab=\"Height\", theta=135, phi=30, expand=0.5, scale=TRUE)\npersp(crimtab.3, xlab=\"Finger Length\", ylab=\"Height\", theta=45, phi=45, expand=0.5, scale=TRUE)\npar(mfrow=c(1,1))\n```\n\n",
    "created" : 1444191272145.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1573223175",
    "id" : "7CB9FB20",
    "lastKnownWriteTime" : 1429666669,
    "path" : "~/Dropbox/Works/Class/Stat_Methods/R.WD/Student/crimtab_graphics.Rmd",
    "project_path" : "crimtab_graphics.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}